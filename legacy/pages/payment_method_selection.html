<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Select your preferred payment method for investing in tokenized real-world assets. Choose between bank transfer, debit card, or cryptocurrency payments.">
    <title>Payment Method Selection - BuildVest</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="icon" type="image/png" href="https://buildvest.net/img/BuildvestLogo_icon.png">
  <script type="module" defer src="https://static.rocket.new/rocket-shot.js?v=0.0.1"></script>
  
  <script type="module" async src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fbuildvest4678back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.12"></script>
  <script type="module" defer src="https://static.rocket.new/rocket-shot.js?v=0.0.2"></script>
  </head>
<body class="bg-surface">
    <!-- Updated to minimal Navigation -->
    <nav class="bg-white shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <a href="#" class="flex items-center space-x-3">
                        <img src="https://buildvest.net/buildvest-logo.png" alt="BuildVest" class="h-8 w-auto" onerror="this.src='https://buildvest.net/buildvest-logo.png?q=80&w=200&auto=format&fit=crop'; this.onerror=null;">
                        <!-- span class="text-xl font-bold text-primary hidden sm:block">BuildVest</span -->
                    </a>
                </div>
                <!--div class="flex items-center space-x-4">
                    <a href="investor_dashboard.html" class="text-text-secondary hover:text-primary transition-colors duration-150 font-medium text-sm sm:text-base">Dashboard</a>
                    <a href="investment_marketplace.html" class="text-text-secondary hover:text-primary transition-colors duration-150 font-medium text-sm sm:text-base">Marketplace</a>
                </div-->
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-24 pb-12 min-h-screen">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Progress Indicator -->
            <div class="mb-8">
                <div class="flex items-center justify-between mb-4">
                    <h1 class="text-2xl sm:text-3xl font-bold text-text-primary">Select Payment Method</h1>
                    <span class="text-sm font-medium text-text-secondary">Step 2 of 4</span>
                </div>
                
                <!-- Progress Bar -->
                <div class="relative">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-xs font-medium text-secondary">Amount</span>
                        <span class="text-xs font-medium text-primary">Payment</span>
                        <span class="text-xs font-medium text-text-tertiary">Review</span>
                        <span class="text-xs font-medium text-text-tertiary">Confirm</span>
                    </div>
                    <div class="w-full bg-surface-200 rounded-full h-2">
                        <div class="bg-primary h-2 rounded-full transition-all duration-500" style="width: 50%"></div>
                    </div>
                </div>
            </div>

            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Payment Method Selection - Main Content -->
                <div class="lg:col-span-2 space-y-6">
                    <!-- Asset Summary Card -->
                    <div class="card p-6 animate-fade-in">
                        <div class="flex items-start space-x-4">
                            <div class="relative h-20 w-20 flex-shrink-0 rounded-lg overflow-hidden">
                                <img src="https://img.rocket.new/generatedImages/rocket_gen_img_1e61a598c-1764101894505.png" alt="Downtown Office Complex - modern commercial real estate investment opportunity" class="w-full h-full object-cover" onerror="this.src='https://images.pexels.com/photos/380768/pexels-photo-380768.jpeg?auto=compress&cs=tinysrgb&w=400'; this.onerror=null;">
                            </div>
                            <div class="flex-1 min-w-0">
                                <h2 class="text-lg font-bold text-text-primary mb-1">Downtown Office Complex</h2>
                                <div class="flex items-center space-x-4 text-sm text-text-secondary">
                                    <span>Investment: <span id="headerAmount" class="font-semibold text-text-primary">$500.00</span></span>
                                    <span>â€¢</span>
                                    <span>Shares: <span id="headerShares" class="font-semibold text-primary">10</span></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Method Options -->
                    <div class="card p-6 animate-slide-up">
                        <h3 class="text-lg font-bold text-text-primary mb-4">Choose Payment Method</h3>
                        
                        <div class="space-y-4">
                            <!-- Bank Transfer Option -->
                            <div class="payment-option border-2 border-border rounded-xl p-5 cursor-pointer hover:border-primary transition-all duration-200" data-method="bank">
                                <div class="flex items-start justify-between mb-3">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-12 h-12 bg-primary-50 rounded-lg flex items-center justify-center flex-shrink-0">
                                            <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"></path>
                                            </svg>
                                        </div>
                                        <div>
                                            <h4 class="font-semibold text-text-primary">Bank Transfer (ACH)</h4>
                                            <p class="text-xs text-text-secondary">Direct from your bank account</p>
                                        </div>
                                    </div>
                                    <div class="payment-radio"></div>
                                </div>
                                <div class="flex items-center justify-between text-sm">
                                    <span class="text-text-secondary">Processing Time:</span>
                                    <span class="font-medium text-text-primary">2-3 business days</span>
                                </div>
                                <div class="flex items-center justify-between text-sm mt-1">
                                    <span class="text-text-secondary">Fee:</span>
                                    <span class="font-semibold text-secondary">Free</span>
                                </div>
                            </div>

                            <!-- Debit Card Option -->
                            <div class="payment-option border-2 border-border rounded-xl p-5 cursor-pointer hover:border-primary transition-all duration-200" data-method="card">
                                <div class="flex items-start justify-between mb-3">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-12 h-12 bg-accent-50 rounded-lg flex items-center justify-center flex-shrink-0">
                                            <svg class="w-6 h-6 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                                            </svg>
                                        </div>
                                        <div>
                                            <h4 class="font-semibold text-text-primary">Debit/Credit Card</h4>
                                            <p class="text-xs text-text-secondary">Instant processing</p>
                                        </div>
                                    </div>
                                    <div class="payment-radio"></div>
                                </div>
                                <div class="flex items-center justify-between text-sm">
                                    <span class="text-text-secondary">Processing Time:</span>
                                    <span class="font-medium text-text-primary">Instant</span>
                                </div>
                                <div class="flex items-center justify-between text-sm mt-1">
                                    <span class="text-text-secondary">Fee:</span>
                                    <span class="font-semibold text-text-primary">2.9% + $0.30</span>
                                </div>
                            </div>

                            <!-- Cryptocurrency Option -->
                            <div class="payment-option border-2 border-border rounded-xl p-5 cursor-pointer hover:border-primary transition-all duration-200" data-method="crypto">
                                <div class="flex items-start justify-between mb-3">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-12 h-12 bg-warning-50 rounded-lg flex items-center justify-center flex-shrink-0">
                                            <svg class="w-6 h-6 text-warning" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.97V5H10.9v1.69c-1.51.32-2.72 1.3-2.72 2.81 0 1.79 1.49 2.69 3.66 3.21 1.95.46 2.34 1.15 2.34 1.87 0 .53-.39 1.39-2.1 1.39-1.6 0-2.23-.72-2.32-1.64H8.04c.1 1.7 1.36 2.66 2.86 2.97V19h2.34v-1.67c1.52-.29 2.72-1.16 2.73-2.77-.01-2.2-1.9-2.96-3.66-3.42z"></path>
                                            </svg>
                                        </div>
                                        <div>
                                            <h4 class="font-semibold text-text-primary">Cryptocurrency</h4>
                                            <p class="text-xs text-text-secondary">USDC, ETH, BTC supported</p>
                                        </div>
                                    </div>
                                    <div class="payment-radio"></div>
                                </div>
                                <div class="flex items-center justify-between text-sm">
                                    <span class="text-text-secondary">Processing Time:</span>
                                    <span class="font-medium text-text-primary">10-30 minutes</span>
                                </div>
                                <div class="flex items-center justify-between text-sm mt-1">
                                    <span class="text-text-secondary">Fee:</span>
                                    <span class="font-semibold text-text-primary">Network fees apply</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Details Form (Initially Hidden) -->
                    <div id="paymentDetailsSection" class="card p-6 hidden animate-slide-up">
                        <!-- Bank Transfer Details -->
                        <div id="bankDetails" class="payment-details hidden">
                            <h3 class="text-lg font-bold text-text-primary mb-4">Bank Account Information</h3>
                            <div class="space-y-4">
                                <div>
                                    <label for="accountHolder" class="block text-sm font-medium text-text-primary mb-2">Account Holder Name</label>
                                    <input type="text" id="accountHolder" class="input" placeholder="John Doe" required>
                                </div>
                                <div>
                                    <label for="routingNumber" class="block text-sm font-medium text-text-primary mb-2">Routing Number</label>
                                    <input type="text" id="routingNumber" class="input" placeholder="123456789" maxlength="9" pattern="[0-9]{9}" required>
                                    <p class="text-xs text-text-secondary mt-1">9-digit routing number</p>
                                </div>
                                <div>
                                    <label for="accountNumber" class="block text-sm font-medium text-text-primary mb-2">Account Number</label>
                                    <input type="text" id="accountNumber" class="input" placeholder="Enter account number" required>
                                </div>
                                <div>
                                    <label for="confirmAccount" class="block text-sm font-medium text-text-primary mb-2">Confirm Account Number</label>
                                    <input type="text" id="confirmAccount" class="input" placeholder="Re-enter account number" required>
                                </div>
                            </div>
                        </div>

                        <!-- Card Details -->
                        <div id="cardDetails" class="payment-details hidden">
                            <h3 class="text-lg font-bold text-text-primary mb-4">Card Information</h3>
                            <div class="space-y-4">
                                <div>
                                    <label for="cardNumber" class="block text-sm font-medium text-text-primary mb-2">Card Number</label>
                                    <div class="relative">
                                        <input type="text" id="cardNumber" class="input pr-12" placeholder="1234 5678 9012 3456" maxlength="19" required>
                                        <div class="absolute right-3 top-1/2 -translate-y-1/2 flex items-center space-x-1">
                                            <img src="https://img.rocket.new/generatedImages/rocket_gen_img_1ea158b00-1764767389039.png" alt="Visa" class="h-6 w-auto">
                                            <img src="https://img.rocket.new/generatedImages/rocket_gen_img_19e228986-1764668084251.png" alt="Mastercard" class="h-6 w-auto">
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <label for="cardHolder" class="block text-sm font-medium text-text-primary mb-2">Cardholder Name</label>
                                    <input type="text" id="cardHolder" class="input" placeholder="Name on card" required>
                                </div>
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label for="expiryDate" class="block text-sm font-medium text-text-primary mb-2">Expiry Date</label>
                                        <input type="text" id="expiryDate" class="input" placeholder="MM/YY" maxlength="5" required>
                                    </div>
                                    <div>
                                        <label for="cvv" class="block text-sm font-medium text-text-primary mb-2">CVV</label>
                                        <input type="text" id="cvv" class="input" placeholder="123" maxlength="4" required>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Crypto Details -->
                        <div id="cryptoDetails" class="payment-details hidden">
                            <h3 class="text-lg font-bold text-text-primary mb-4">Cryptocurrency Payment</h3>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-text-primary mb-2">Select Cryptocurrency</label>
                                    <div class="grid grid-cols-3 gap-3">
                                        <button class="crypto-option p-4 border-2 border-border rounded-lg hover:border-primary transition-all" data-crypto="USDC">
                                            <div class="text-center">
                                                <div class="text-2xl mb-2">ðŸ’µ</div>
                                                <p class="text-sm font-semibold">USDC</p>
                                            </div>
                                        </button>
                                        <button class="crypto-option p-4 border-2 border-border rounded-lg hover:border-primary transition-all" data-crypto="ETH">
                                            <div class="text-center">
                                                <div class="text-2xl mb-2">ðŸ’Ž</div>
                                                <p class="text-sm font-semibold">ETH</p>
                                            </div>
                                        </button>
                                        <button class="crypto-option p-4 border-2 border-border rounded-lg hover:border-primary transition-all" data-crypto="BTC">
                                            <div class="text-center">
                                                <div class="text-2xl mb-2">â‚¿</div>
                                                <p class="text-sm font-semibold">BTC</p>
                                            </div>
                                        </button>
                                    </div>
                                </div>
                                <div id="walletSection" class="hidden">
                                    <label for="walletAddress" class="block text-sm font-medium text-text-primary mb-2">Wallet Address</label>
                                    <input type="text" id="walletAddress" class="input" placeholder="Connect or enter wallet address" required>
                                    <div class="mt-3">
                                        <button class="btn btn-ghost w-full">
                                            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M20 7h-4V4c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 4h4v3h-4V4zm10 16H4V9h16v11z"></path>
                                            </svg>
                                            Connect Wallet
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Security Information -->
                    <div class="bg-primary-50 rounded-xl p-4 border border-primary-200 animate-fade-in">
                        <div class="flex items-start space-x-3">
                            <svg class="w-5 h-5 text-primary flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path>
                            </svg>
                            <div>
                                <h5 class="font-semibold text-text-primary text-sm mb-1">ðŸ”’ Your Payment is Secure</h5>
                                <p class="text-xs text-text-secondary">All transactions are encrypted with bank-level SSL security. We never store your payment details.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex flex-col sm:flex-row gap-4">
                        <button onclick="window.location.href='investment_amount_entry.html'" class="btn btn-ghost flex-1 sm:flex-none">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                            </svg>
                            Back
                        </button>
                        <button id="continueBtn" class="btn btn-primary flex-1" disabled>
                            Continue to Review
                            <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Investment Summary Sidebar -->
                <div class="lg:col-span-1">
                    <div class="card p-6 sticky top-24 animate-fade-in">
                        <h3 class="text-lg font-bold text-text-primary mb-4">Investment Summary</h3>
                        
                        <div class="space-y-4">
                            <div>
                                <p class="text-sm text-text-secondary mb-1">Asset Name</p>
                                <p class="font-semibold text-text-primary">Downtown Office Complex</p>
                            </div>

                            <div class="divider"></div>

                            <div>
                                <p class="text-sm text-text-secondary mb-1">Investment Amount</p>
                                <p id="summaryAmount" class="font-mono text-xl font-bold text-text-primary">$500.00</p>
                            </div>

                            <div>
                                <p class="text-sm text-text-secondary mb-1">Number of Shares</p>
                                <p id="summaryShares" class="font-mono text-xl font-bold text-primary">10</p>
                            </div>

                            <div class="divider"></div>

                            <div id="feeSection" class="hidden">
                                <div class="space-y-2">
                                    <div class="flex items-center justify-between text-sm">
                                        <span class="text-text-secondary">Subtotal</span>
                                        <span id="subtotal" class="font-mono font-medium text-text-primary">$500.00</span>
                                    </div>
                                    <div class="flex items-center justify-between text-sm">
                                        <span class="text-text-secondary">Payment Fee</span>
                                        <span id="paymentFee" class="font-mono font-medium text-text-primary">$0.00</span>
                                    </div>
                                    <div class="divider"></div>
                                    <div class="flex items-center justify-between">
                                        <span class="text-sm font-medium text-text-primary">Total Due</span>
                                        <span id="totalDue" class="font-mono text-xl font-bold text-primary">$500.00</span>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-surface rounded-lg p-4">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm text-text-secondary">Target Annual Return</span>
                                    <span class="font-semibold text-secondary">14.2%</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-text-secondary">Est. Annual Income</span>
                                    <span id="summaryReturn" class="font-mono font-semibold text-secondary">$71.00</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Trust Indicators -->
                    <div class="card p-4 mt-4 animate-fade-in">
                        <div class="space-y-3">
                            <div class="flex items-center space-x-2">
                                <svg class="w-5 h-5 text-secondary" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                </svg>
                                <span class="text-xs font-medium text-text-secondary">PCI DSS Compliant</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <svg class="w-5 h-5 text-secondary" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path>
                                </svg>
                                <span class="text-xs font-medium text-text-secondary">256-bit SSL Encryption</span>
                            </div>
                            <div class="flex items-center space-x-2">
                                <svg class="w-5 h-5 text-secondary" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                </svg>
                                <span class="text-xs font-medium text-text-secondary">Verified Platform</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-white py-8 mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
                <div class="flex items-center space-x-3">
                    <img src="https://buildvest.net/img/BuildvestLogo_icon_white.png" alt="BuildVest footer logo" class="h-8 w-auto" onerror="this.src='https://buildvest.net/img/BuildvestLogo_icon_white.png?q=80&w=200&auto=format&fit=crop'; this.onerror=null;">
                    <span class="text-lg font-bold">BuildVest</span>
                </div>
                <p class="text-slate-400 text-sm text-center md:text-left">Â© 2026 BuildVest. All Rights Reserved.</p>
                <!-- div class="flex items-center space-x-6">
                    <a href="javascript:void(0)" class="text-slate-400 hover:text-white transition-colors duration-150" aria-label="Twitter">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path>
                        </svg>
                    </a>
                    <a href="javascript:void(0)" class="text-slate-400 hover:text-white transition-colors duration-150" aria-label="LinkedIn">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path>
                        </svg>
                    </a>
                    <a href="javascript:void(0)" class="text-slate-400 hover:text-white transition-colors duration-150" aria-label="Facebook">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path>
                        </svg>
                    </a>
                </div -->
            </div>
        </div>
    </footer>

    <style>
        .payment-radio {
            width: 24px;
            height: 24px;
            border: 2px solid #CBD5E1;
            border-radius: 50%;
            position: relative;
            transition: all 0.2s;
        }

        .payment-option.selected .payment-radio {
            border-color: #3B82F6;
        }

        .payment-option.selected .payment-radio::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 12px;
            height: 12px;
            background-color: #3B82F6;
            border-radius: 50%;
        }

        .payment-option.selected {
            border-color: #3B82F6;
            background-color: #EFF6FF;
        }

        .crypto-option.selected {
            border-color: #3B82F6;
            background-color: #EFF6FF;
        }
    </style>

    <script>
    // Load investment data from previous step
    let investmentData = {
        assetName: 'Downtown Office Complex',
        amount: 500,
        shares: 10,
        sharePrice: 50,
        estimatedReturn: 71
    };

    try {
        const storedData = sessionStorage.getItem('investmentData');
        if (storedData) {
            investmentData = JSON.parse(storedData);
        }
    } catch (e) {
        console.error('Error loading investment data:', e);
    }

    // Format currency
    function formatCurrency(amount) {
        return new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: 'USD',
            minimumFractionDigits: 2,
            maximumFractionDigits: 2
        }).format(amount);
    }

    // Update display with stored data
    document.getElementById('headerAmount').textContent = formatCurrency(investmentData.amount);
    document.getElementById('headerShares').textContent = investmentData.shares.toLocaleString();
    document.getElementById('summaryAmount').textContent = formatCurrency(investmentData.amount);
    document.getElementById('summaryShares').textContent = investmentData.shares.toLocaleString();
    document.getElementById('summaryReturn').textContent = formatCurrency(investmentData.estimatedReturn);

    // Payment method selection
    const paymentOptions = document.querySelectorAll('.payment-option');
    const paymentDetailsSection = document.getElementById('paymentDetailsSection');
    const continueBtn = document.getElementById('continueBtn');
    const feeSection = document.getElementById('feeSection');
    let selectedMethod = null;

    paymentOptions.forEach(option => {
        option.addEventListener('click', () => {
            // Remove selected class from all options
            paymentOptions.forEach(opt => opt.classList.remove('selected'));
            
            // Add selected class to clicked option
            option.classList.add('selected');
            selectedMethod = option.getAttribute('data-method');
            
            // Hide all payment details
            document.querySelectorAll('.payment-details').forEach(detail => {
                detail.classList.add('hidden');
            });
            
            // Show relevant payment details
            paymentDetailsSection.classList.remove('hidden');
            document.getElementById(`${selectedMethod}Details`).classList.remove('hidden');
            
            // Calculate and display fees
            updateFees();
            
            // Validate form
            validateForm();
        });
    });

    // Update fees based on payment method
    function updateFees() {
        const subtotal = investmentData.amount;
        let fee = 0;
        
        if (selectedMethod === 'card') {
            fee = subtotal * 0.029 + 0.30;
        } else if (selectedMethod === 'crypto') {
            fee = 5; // Example network fee
        }
        
        const total = subtotal + fee;
        
        document.getElementById('subtotal').textContent = formatCurrency(subtotal);
        document.getElementById('paymentFee').textContent = formatCurrency(fee);
        document.getElementById('totalDue').textContent = formatCurrency(total);
        feeSection.classList.remove('hidden');
    }

    // Form validation
    function validateForm() {
        let isValid = false;
        
        if (selectedMethod === 'bank') {
            const accountHolder = document.getElementById('accountHolder').value;
            const routingNumber = document.getElementById('routingNumber').value;
            const accountNumber = document.getElementById('accountNumber').value;
            const confirmAccount = document.getElementById('confirmAccount').value;
            
            isValid = accountHolder && routingNumber.length === 9 && 
                     accountNumber && accountNumber === confirmAccount;
        } else if (selectedMethod === 'card') {
            const cardNumber = document.getElementById('cardNumber').value;
            const cardHolder = document.getElementById('cardHolder').value;
            const expiryDate = document.getElementById('expiryDate').value;
            const cvv = document.getElementById('cvv').value;
            
            isValid = cardNumber.length >= 13 && cardHolder && 
                     expiryDate.length === 5 && cvv.length >= 3;
        } else if (selectedMethod === 'crypto') {
            const selectedCrypto = document.querySelector('.crypto-option.selected');
            isValid = selectedCrypto !== null;
        }
        
        continueBtn.disabled = !isValid;
    }

    // Add input listeners for validation
    document.querySelectorAll('input').forEach(input => {
        input.addEventListener('input', validateForm);
    });

    // Card number formatting
    const cardNumberInput = document.getElementById('cardNumber');
    if (cardNumberInput) {
        cardNumberInput.addEventListener('input', (e) => {
            let value = e.target.value.replace(/\s/g, '');
            let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
            e.target.value = formattedValue;
            validateForm();
        });
    }

    // Expiry date formatting
    const expiryDateInput = document.getElementById('expiryDate');
    if (expiryDateInput) {
        expiryDateInput.addEventListener('input', (e) => {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length >= 2) {
                value = value.slice(0, 2) + '/' + value.slice(2, 4);
            }
            e.target.value = value;
            validateForm();
        });
    }

    // Crypto selection
    const cryptoOptions = document.querySelectorAll('.crypto-option');
    cryptoOptions.forEach(option => {
        option.addEventListener('click', () => {
            cryptoOptions.forEach(opt => opt.classList.remove('selected'));
            option.classList.add('selected');
            document.getElementById('walletSection').classList.remove('hidden');
            validateForm();
        });
    });

    // Continue button
    continueBtn.addEventListener('click', () => {
        // Store payment method data
        const paymentData = {
            ...investmentData,
            paymentMethod: selectedMethod,
            paymentFee: selectedMethod === 'card' ? investmentData.amount * 0.029 + 0.30 : 
                       selectedMethod === 'crypto' ? 5 : 0
        };
        sessionStorage.setItem('investmentData', JSON.stringify(paymentData));
        
        // Navigate to review page
        window.location.href = 'investment_review_confirmation.html';
    });
</script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>